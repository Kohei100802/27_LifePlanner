{% extends 'base.html' %}
{% block content %}
<div class="p-4 space-y-4">
  <div class="flex items-center justify-between">
    <h2 class="text-lg font-semibold">ダッシュボード</h2>
    <a href="/logout" class="text-sm text-primary">ログアウト</a>
  </div>
  <div class="grid gap-3">
    <div class="rounded-lg border p-4 bg-white">
      <div class="text-sm text-slate-500">ようこそ</div>
      <div class="text-lg">{{ user.name }}</div>
    </div>
    <div class="rounded-lg border p-4 bg-white">
      <div class="text-sm text-slate-500">資産推移（ダミー）</div>
      <div class="h-24 bg-slate-100 rounded"></div>
    </div>
    <a href="/lifeplan" class="rounded-lg border p-4 bg-white flex items-center justify-between">
      <div>
        <div class="font-medium">ライフプラン作成</div>
        <div class="text-sm text-slate-500">開始する</div>
      </div>
      <div>›</div>
    </a>
  </div>
  <div class="rounded-lg border p-4 bg-white">
    <div class="text-sm text-slate-500">資産推移（サンプル）</div>
    <canvas id="chart" class="w-full h-28"></canvas>
  </div>
</div>
{% endblock %}

{% block extra_js %}{% endblock %}
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const el = document.getElementById('chart');
    if(!el) return;
    const ctx = el.getContext('2d');
    const data = {labels: ['20','25','30','35','40','45','50'], datasets: [{label: '資産(百万円)', data: [0.5,0.8,1.2,1.6,2.0,2.6,3.0], borderColor: '#2563eb', backgroundColor: 'rgba(37,99,235,0.2)', tension: 0.3}]};
    new Chart(ctx, { type: 'line', data, options: {responsive: true, maintainAspectRatio: false, plugins: {legend: {display: false}}, scales: {y: {beginAtZero: true}} }});
  });
</script>
